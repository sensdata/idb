definitions:
  files.FileInfo:
    properties:
      content:
        type: string
      extension:
        type: string
      favorite_id:
        type: integer
      gid:
        type: string
      group:
        type: string
      is_dir:
        type: boolean
      is_hidden:
        type: boolean
      is_symlink:
        type: boolean
      item_total:
        type: integer
      items:
        items:
          $ref: '#/definitions/files.FileInfo'
        type: array
      link_path:
        type: string
      mime_type:
        type: string
      mod_time:
        type: string
      mode:
        type: string
      name:
        type: string
      path:
        type: string
      size:
        type: integer
      type:
        type: string
      uid:
        type: string
      update_time:
        type: string
      user:
        type: string
    type: object
  model.Action:
    properties:
      action:
        type: string
      data:
        type: string
      result:
        type: boolean
    type: object
  model.AddressInfo:
    properties:
      gate:
        description: 网关
        type: string
      ip:
        description: ip地址
        type: string
      mask:
        description: 子网掩码
        type: string
      type:
        description: 类型
        type: string
    type: object
  model.ChangePassword:
    properties:
      password:
        type: string
    required:
    - password
    type: object
  model.Command:
    properties:
      command:
        type: string
      host_id:
        type: integer
    type: object
  model.CommandGroup:
    properties:
      commands:
        items:
          type: string
        type: array
      host_id:
        type: integer
    type: object
  model.CreateGroup:
    properties:
      group_name:
        type: string
    required:
    - group_name
    type: object
  model.CreateHost:
    properties:
      addr:
        type: string
      auth_mode:
        type: string
      group_id:
        type: integer
      name:
        type: string
      pass_phrase:
        type: string
      password:
        type: string
      port:
        type: integer
      private_key:
        type: string
      user:
        type: string
    required:
    - addr
    - auth_mode
    - group_id
    - name
    - port
    - user
    type: object
  model.CreateScript:
    properties:
      category:
        type: string
      content:
        type: string
      host_id:
        type: integer
      name:
        type: string
      type:
        type: string
    required:
    - host_id
    - name
    - type
    type: object
  model.CreateUser:
    properties:
      group_id:
        type: integer
      name:
        type: string
      password:
        type: string
    required:
    - group_id
    - name
    - password
    type: object
  model.DNSInfo:
    properties:
      retryTimes:
        type: integer
      servers:
        items:
          type: string
        type: array
      timeout:
        type: integer
    type: object
  model.DirSizeRes:
    properties:
      size:
        type: number
    required:
    - size
    type: object
  model.Favorite:
    properties:
      created_at:
        type: string
      id:
        type: integer
      is_dir:
        type: boolean
      is_txt:
        type: boolean
      name:
        type: string
      source:
        type: string
      type:
        type: string
      updated_at:
        type: string
    type: object
  model.FavoriteCreate:
    properties:
      host_id:
        type: integer
      source:
        type: string
    required:
    - source
    type: object
  model.FileCompress:
    properties:
      dst:
        type: string
      files:
        items:
          type: string
        type: array
      host_id:
        type: integer
      name:
        type: string
      replace:
        type: boolean
      type:
        type: string
    required:
    - dst
    - files
    - name
    - type
    type: object
  model.FileCreate:
    properties:
      content:
        type: string
      host_id:
        type: integer
      is_dir:
        type: boolean
      is_link:
        type: boolean
      is_symlink:
        type: boolean
      link_path:
        type: string
      mode:
        type: integer
      source:
        type: string
      sub:
        type: boolean
    required:
    - host_id
    - source
    type: object
  model.FileDeCompress:
    properties:
      dst:
        type: string
      host_id:
        type: integer
      path:
        type: string
      type:
        type: string
    required:
    - dst
    - path
    - type
    type: object
  model.FileEdit:
    properties:
      content:
        type: string
      host_id:
        type: integer
      source:
        type: string
    required:
    - content
    - host_id
    - source
    type: object
  model.FileInfo:
    properties:
      content:
        type: string
      extension:
        type: string
      favorite_id:
        type: integer
      gid:
        type: string
      group:
        type: string
      is_dir:
        type: boolean
      is_hidden:
        type: boolean
      is_symlink:
        type: boolean
      item_total:
        type: integer
      items:
        items:
          $ref: '#/definitions/files.FileInfo'
        type: array
      link_path:
        type: string
      mime_type:
        type: string
      mod_time:
        type: string
      mode:
        type: string
      name:
        type: string
      path:
        type: string
      size:
        type: integer
      type:
        type: string
      uid:
        type: string
      update_time:
        type: string
      user:
        type: string
    type: object
  model.FileMove:
    properties:
      cover:
        type: boolean
      dest:
        type: string
      host_id:
        type: integer
      name:
        type: string
      sources:
        items:
          type: string
        type: array
      type:
        enum:
        - copy
        - move
        type: string
    required:
    - dest
    - host_id
    - sources
    - type
    type: object
  model.FileRename:
    properties:
      host_id:
        type: integer
      name:
        type: string
      source:
        type: string
    required:
    - host_id
    - name
    - source
    type: object
  model.FileRoleReq:
    properties:
      group:
        type: string
      host_id:
        type: integer
      mode:
        type: integer
      sources:
        items:
          type: string
        type: array
      sub:
        type: boolean
      user:
        type: string
    required:
    - group
    - host_id
    - mode
    - sources
    - user
    type: object
  model.FileRoleUpdate:
    properties:
      group:
        type: string
      host_id:
        type: integer
      source:
        type: string
      sub:
        type: boolean
      user:
        type: string
    required:
    - group
    - host_id
    - source
    - user
    type: object
  model.FileTree:
    properties:
      children:
        items:
          $ref: '#/definitions/model.FileTree'
        type: array
      id:
        type: string
      name:
        type: string
      path:
        type: string
    type: object
  model.GenerateKey:
    properties:
      enabled:
        type: boolean
      encryption_mode:
        enum:
        - rsa
        - ed25519
        - ecdsa
        - dsa
        type: string
      host_id:
        type: integer
      key_bits:
        enum:
        - 1024
        - 2048
        type: integer
      password:
        type: string
    required:
    - encryption_mode
    - key_bits
    type: object
  model.GitFile:
    properties:
      content:
        type: string
      extension:
        type: string
      mod_time:
        type: string
      name:
        type: string
      size:
        type: integer
      source:
        type: string
    type: object
  model.GroupInfo:
    properties:
      created_at:
        type: string
      group_name:
        type: string
      id:
        type: integer
    type: object
  model.HardwareInfo:
    properties:
      cpu_cores:
        description: cpu核心数
        type: integer
      cpu_count:
        description: cpu个数
        type: integer
      memory:
        description: 内存大小
        type: string
      module_names:
        description: 型号
        items:
          type: string
        type: array
      processor:
        description: 线程数
        type: integer
    type: object
  model.HostAction:
    properties:
      action:
        $ref: '#/definitions/model.Action'
      host_id:
        type: integer
    type: object
  model.HostInfo:
    properties:
      addr:
        type: string
      agent_addr:
        type: string
      agent_key:
        type: string
      agent_mode:
        type: string
      agent_port:
        type: integer
      auth_mode:
        type: string
      created_at:
        type: string
      group:
        $ref: '#/definitions/model.GroupInfo'
      id:
        type: integer
      name:
        type: string
      pass_phrase:
        type: string
      password:
        type: string
      port:
        type: integer
      private_key:
        type: string
      user:
        type: string
    type: object
  model.KeyValueForUpdate:
    properties:
      key:
        type: string
      new_value:
        type: string
      old_value:
        type: string
    required:
    - key
    type: object
  model.LoadState:
    properties:
      process_count1:
        description: 1分钟进程数
        type: string
      process_count5:
        description: 5分钟进程数
        type: string
      process_count15:
        description: 15分钟进程数
        type: string
    type: object
  model.Login:
    properties:
      name:
        type: string
      password:
        type: string
    required:
    - name
    - password
    type: object
  model.LoginResult:
    properties:
      name:
        type: string
      token:
        type: string
    type: object
  model.MemoryState:
    properties:
      buffered:
        description: 缓冲区
        type: string
      cached:
        description: 缓存区
        type: string
      free:
        description: 剩余可用
        type: string
      free_rate:
        description: 剩余率
        type: number
      kernel:
        description: 内核占用
        type: string
      physical:
        description: 物理内存
        type: string
      real_used:
        description: 进程占用
        type: string
      total:
        description: 总可用 = 物理内存 - 内核占用
        type: string
      used:
        description: 已使用 = 进程占用 + 缓冲区 + 缓存区
        type: string
      used_rate:
        description: 使用率
        type: number
    type: object
  model.NetworkInfo:
    properties:
      dns:
        allOf:
        - $ref: '#/definitions/model.DNSInfo'
        description: Dns
      networks:
        description: 网络接口
        items:
          $ref: '#/definitions/model.NetworkInterface'
        type: array
    type: object
  model.NetworkInterface:
    properties:
      address:
        allOf:
        - $ref: '#/definitions/model.AddressInfo'
        description: 地址信息
      mac:
        description: mac地址
        type: string
      name:
        description: 名称
        type: string
      proto:
        description: 分配方式
        type: string
      status:
        description: 状态
        type: string
      traffic:
        allOf:
        - $ref: '#/definitions/model.TrafficInfo'
        description: 流量信息
    type: object
  model.Overview:
    properties:
      boot_time:
        description: 启动时间
        type: string
      cpu_usage:
        description: CPU使用率
        type: string
      current_load:
        allOf:
        - $ref: '#/definitions/model.LoadState'
        description: 当前负载
      idle_time:
        description: 空闲时间
        type: string
      memory_usage:
        allOf:
        - $ref: '#/definitions/model.MemoryState'
        description: 内存使用
      run_time:
        description: 运行时间
        type: string
      server_time:
        description: 服务器时间
        type: string
      server_time_zone:
        description: 服务器时区
        type: string
      storage:
        description: 存储空间
        items:
          $ref: '#/definitions/model.Partition'
        type: array
      swap_usage:
        allOf:
        - $ref: '#/definitions/model.SwapState'
        description: 交换分区
    type: object
  model.PageResult:
    properties:
      items: {}
      total:
        type: integer
    type: object
  model.Partition:
    properties:
      free:
        description: 剩余可用
        type: string
      name:
        description: 名称
        type: string
      total:
        description: 总大小
        type: string
      used:
        description: 已使用
        type: string
      used_rate:
        description: 使用率
        type: number
    type: object
  model.Response:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
    type: object
  model.RestoreScript:
    properties:
      category:
        type: string
      commit_hash:
        type: string
      host_id:
        type: integer
      name:
        type: string
      type:
        type: string
    required:
    - commit_hash
    - host_id
    - name
    - type
    type: object
  model.RoleInfo:
    properties:
      created_at:
        type: string
      id:
        type: integer
      role_name:
        type: string
    type: object
  model.SSHConfigContent:
    properties:
      content:
        type: string
    type: object
  model.SSHHistory:
    properties:
      address:
        type: string
      area:
        type: string
      auth_mode:
        type: string
      date:
        type: string
      date_str:
        type: string
      message:
        type: string
      port:
        type: string
      status:
        type: string
      user:
        type: string
    type: object
  model.SSHInfo:
    properties:
      auto_start:
        type: boolean
      listen_address:
        type: string
      message:
        type: string
      password_authentication:
        type: string
      permit_root_login:
        type: string
      port:
        type: string
      pubkey_authentication:
        type: string
      status:
        type: string
      use_dns:
        type: string
    type: object
  model.SSHLog:
    properties:
      failed_count:
        type: integer
      logs:
        items:
          $ref: '#/definitions/model.SSHHistory'
        type: array
      successful_count:
        type: integer
      total_count:
        type: integer
    type: object
  model.SSHUpdate:
    properties:
      host_id:
        type: integer
      values:
        items:
          $ref: '#/definitions/model.KeyValueForUpdate'
        type: array
    type: object
  model.SwapState:
    properties:
      free:
        description: 剩余可用
        type: string
      free_rate:
        description: 剩余率
        type: number
      total:
        description: 总大小
        type: string
      used:
        description: 已使用
        type: string
      used_rate:
        description: 使用率
        type: number
    type: object
  model.SystemConfig:
    properties:
      max_opend_files:
        description: 最大文件打开数
        type: integer
      max_watched_files:
        description: 最大监控文件数
        type: integer
    type: object
  model.SystemInfo:
    properties:
      host_name:
        description: 主机名称
        type: string
      kernel:
        description: 内核版本
        type: string
      platform:
        description: 系统类型 x86_64, arm64, etc.
        type: string
      version:
        description: 发行版本
        type: string
      vertual:
        description: 虚拟化平台
        type: string
    type: object
  model.TestAgent:
    properties:
      agent_addr:
        type: string
      agent_key:
        type: string
      agent_mode:
        type: string
      agent_port:
        type: integer
    required:
    - agent_addr
    - agent_mode
    - agent_port
    type: object
  model.TestSSH:
    properties:
      addr:
        type: string
      auth_mode:
        type: string
      pass_phrase:
        type: string
      password:
        type: string
      port:
        type: integer
      private_key:
        type: string
      user:
        type: string
    required:
    - addr
    - auth_mode
    - port
    - user
    type: object
  model.TrafficInfo:
    properties:
      rx:
        description: 接收数据量
        type: string
      rx_bytes:
        description: 接收数据量
        type: integer
      rx_speed:
        description: 接收实时速率
        type: string
      tx:
        description: 发送数据量
        type: string
      tx_bytes:
        description: 发送数据量
        type: integer
      tx_speed:
        description: 发送实时速率
        type: string
    type: object
  model.UpdateGroup:
    properties:
      group_name:
        type: string
    required:
    - group_name
    type: object
  model.UpdateHost:
    properties:
      group_id:
        type: integer
      name:
        type: string
    required:
    - group_id
    - name
    type: object
  model.UpdateHostAgent:
    properties:
      agent_addr:
        type: string
      agent_key:
        type: string
      agent_mode:
        type: string
      agent_port:
        type: integer
    required:
    - agent_addr
    - agent_mode
    - agent_port
    type: object
  model.UpdateHostSSH:
    properties:
      addr:
        type: string
      auth_mode:
        type: string
      pass_phrase:
        type: string
      password:
        type: string
      port:
        type: integer
      private_key:
        type: string
      user:
        type: string
    required:
    - addr
    - auth_mode
    - port
    - user
    type: object
  model.UpdateScript:
    properties:
      category:
        type: string
      content:
        type: string
      host_id:
        type: integer
      name:
        type: string
      type:
        type: string
    required:
    - content
    - host_id
    - name
    - type
    type: object
  model.UpdateUser:
    properties:
      group_id:
        type: integer
      name:
        type: string
      valid:
        type: integer
    required:
    - group_id
    - name
    - valid
    type: object
  model.UserInfo:
    properties:
      created_at:
        type: string
      group:
        $ref: '#/definitions/model.GroupInfo'
      id:
        type: integer
      name:
        type: string
      role:
        $ref: '#/definitions/model.RoleInfo'
      valid:
        type: integer
    type: object
  model.ValidUser:
    properties:
      valid:
        type: integer
    type: object
  plugin.MenuItem:
    properties:
      description:
        type: string
      id:
        type: string
      name:
        type: string
    type: object
  plugin.PluginInfo:
    properties:
      description:
        type: string
      entry:
        type: string
      host:
        type: string
      name:
        type: string
      port:
        type: string
      version:
        type: string
    type: object
info:
  contact: {}
paths:
  /actions:
    post:
      consumes:
      - application/json
      description: 向目标设备发送action指令
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.HostAction'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.HostAction'
      summary: send action command to host
      tags:
      - Action
  /auth/sessions:
    delete:
      consumes:
      - application/json
      description: 用户登出
      parameters:
      - description: Authentication token
        in: header
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: User logout
      tags:
      - Auth
    post:
      consumes:
      - application/json
      description: 用户登录
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.Login'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.LoginResult'
      summary: User login
      tags:
      - Auth
  /commands:
    post:
      consumes:
      - application/json
      description: 向目标设备发送linux指令
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.Command'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: send linux command to host
      tags:
      - Command
  /commands/group:
    post:
      consumes:
      - application/json
      description: 向目标设备发送一组linux指令
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CommandGroup'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: send group of linux commands to host
      tags:
      - Command
  /files:
    delete:
      consumes:
      - application/json
      description: Delete a file or directory
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: Source file path
        in: query
        name: source
        required: true
        type: string
      - description: Force delete flag
        in: query
        name: force_delete
        type: boolean
      - description: Is directory flag
        in: query
        name: is_dir
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Delete file
      tags:
      - File
    get:
      consumes:
      - application/json
      description: Get list of files in a directory
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: Directory path (default is root directory)
        in: query
        name: path
        type: string
      - description: Page
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.FileInfo'
            type: array
      summary: List files
      tags:
      - File
    post:
      consumes:
      - application/json
      description: Create a new file or directory
      parameters:
      - description: File creation details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileCreate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Create file or directory
      tags:
      - File
  /files/batch:
    delete:
      consumes:
      - application/json
      description: Delete multiple files or directories
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: Comma-separated list of file paths to delete
        in: query
        name: sources
        required: true
        type: string
      - description: Is directory flag
        in: query
        name: is_dir
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Batch delete files
      tags:
      - File
  /files/batch/role:
    put:
      consumes:
      - application/json
      description: Batch modify file permissions and user/group
      parameters:
      - description: Batch file mode and owner change request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileRoleReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Batch change file mode and owner
      tags:
      - File
  /files/compress:
    post:
      consumes:
      - application/json
      description: Compress multiple files or directories into an archive
      parameters:
      - description: Compression details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileCompress'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Compress files
      tags:
      - File
  /files/content:
    get:
      consumes:
      - application/json
      description: Get the content of a file
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: File path
        in: query
        name: path
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.FileInfo'
      summary: Get file content
      tags:
      - File
    put:
      consumes:
      - application/json
      description: Update the content of a file
      parameters:
      - description: File edit details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileEdit'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Update file content
      tags:
      - File
  /files/decompress:
    post:
      consumes:
      - application/json
      description: Decompress file into an archive
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileDeCompress'
      responses:
        "200":
          description: OK
      summary: Decompress file
      tags:
      - File
  /files/download:
    get:
      description: Download a file from a specific host and path
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: Source file path
        in: query
        name: source
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: OK
          schema:
            type: file
      summary: Download file
      tags:
      - File
  /files/favorites:
    get:
      consumes:
      - application/json
      description: Get favorite files
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: Page
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.PageResult'
      summary: Get favorites
      tags:
      - File
    post:
      consumes:
      - application/json
      description: Collect a favorite file
      parameters:
      - description: Favorite create request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FavoriteCreate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Favorite'
      summary: Collect a favorite file
      tags:
      - File
  /files/favorites/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a favorite
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: Favorite ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Delete a favorite
      tags:
      - File
  /files/info:
    get:
      consumes:
      - application/json
      description: Get plugin information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/plugin.PluginInfo'
      summary: Get plugin info
      tags:
      - File
  /files/menu:
    get:
      consumes:
      - application/json
      description: Get plugin menu items
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/plugin.MenuItem'
            type: array
      summary: Get plugin menu
      tags:
      - File
  /files/mode:
    put:
      consumes:
      - application/json
      description: Change file mode
      parameters:
      - description: File mode update details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileCreate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Change file mode
      tags:
      - File
  /files/move:
    put:
      consumes:
      - application/json
      description: Move one or more files to a new location
      parameters:
      - description: File move details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileMove'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Move files
      tags:
      - File
  /files/owner:
    put:
      consumes:
      - application/json
      description: Change file user or/and group
      parameters:
      - description: File owner update details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileRoleUpdate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Change file owner
      tags:
      - File
  /files/rename:
    put:
      consumes:
      - application/json
      description: Rename a file
      parameters:
      - description: File rename details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.FileRename'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Change file name
      tags:
      - File
  /files/size:
    get:
      consumes:
      - application/json
      description: Get the size of a directory
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: Source file path
        in: query
        name: source
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.DirSizeRes'
      summary: Get directory size
      tags:
      - File
  /files/trees:
    get:
      consumes:
      - application/json
      description: Get file tree structure
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: Directory path (default is root directory)
        in: query
        name: path
        type: string
      - description: Page
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.FileTree'
            type: array
      summary: Get file tree
      tags:
      - File
  /files/upload:
    post:
      consumes:
      - multipart/form-data
      description: Upload a file to a specific host and path
      parameters:
      - description: Host ID
        in: formData
        name: host_id
        required: true
        type: integer
      - description: Destination directory path
        in: formData
        name: dest
        required: true
        type: string
      - description: File to upload
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Upload file
      tags:
      - File
  /groups:
    get:
      consumes:
      - application/json
      description: 获取组列表
      parameters:
      - description: Page number
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.PageResult'
      summary: get group list
      tags:
      - Group
    post:
      consumes:
      - application/json
      description: 创建组
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreateGroup'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.GroupInfo'
      summary: create group
      tags:
      - Group
  /groups/{id}:
    delete:
      consumes:
      - application/json
      description: 删除组
      parameters:
      - description: Group ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: delete group
      tags:
      - Group
    put:
      consumes:
      - application/json
      description: 更新组
      parameters:
      - description: Group ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateGroup'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: update group
      tags:
      - Group
  /hosts:
    get:
      consumes:
      - application/json
      description: 获取设备组列表
      parameters:
      - description: Page number
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      - description: Group ID
        in: query
        name: group_id
        type: integer
      - description: Keyword
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.PageResult'
      summary: get host list
      tags:
      - Host
    post:
      consumes:
      - application/json
      description: 新增设备
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreateHost'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.HostInfo'
      summary: create host
      tags:
      - Host
  /hosts/{id}:
    put:
      consumes:
      - application/json
      description: 更新设备
      parameters:
      - description: Host ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateHost'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: update host
      tags:
      - Host
  /hosts/{id}/agent:
    put:
      consumes:
      - application/json
      description: 更新设备agent配置
      parameters:
      - description: Host ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateHostAgent'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: update host agent config
      tags:
      - Host
  /hosts/{id}/install/agent:
    post:
      consumes:
      - application/json
      description: 在设备上安装 agent
      parameters:
      - description: Host ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: install agent on host
      tags:
      - Host
  /hosts/{id}/ssh:
    put:
      consumes:
      - application/json
      description: 更新设备ssh配置
      parameters:
      - description: Host ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateHostSSH'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: update host ssh config
      tags:
      - Host
  /hosts/{id}/test/agent:
    post:
      consumes:
      - application/json
      description: 测试设备 agent
      parameters:
      - description: Host ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.TestAgent'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: test host agent
      tags:
      - Host
  /hosts/{id}/test/ssh:
    post:
      consumes:
      - application/json
      description: 测试设备ssh
      parameters:
      - description: Host ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.TestSSH'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: test host ssh
      tags:
      - Host
  /hosts/groups:
    get:
      consumes:
      - application/json
      description: 获取设备组列表
      parameters:
      - description: Page number
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.PageResult'
      summary: get host group list
      tags:
      - Host
  /scripts:
    delete:
      consumes:
      - application/json
      description: Delete  a script file
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: 'Type (options: ''global'', ''local'')'
        in: query
        name: type
        required: true
        type: string
      - description: Category (directory under 'global' or 'local')
        in: query
        name: category
        type: string
      - description: File name
        in: query
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Delete script file
      tags:
      - Script
    get:
      consumes:
      - application/json
      description: Get list of scripts in a directory
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: 'Type (options: ''global'', ''local'')'
        in: query
        name: type
        required: true
        type: string
      - description: Category (directory under 'global' or 'local')
        in: query
        name: category
        type: string
      - description: Page
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.PageResult'
            type: array
      summary: List scripts
      tags:
      - Script
    post:
      consumes:
      - application/json
      description: Create a new script file or category
      parameters:
      - description: Script file creation details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreateScript'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Create script file or category
      tags:
      - Script
    put:
      consumes:
      - application/json
      description: Update the content of a script file
      parameters:
      - description: Script file edit details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateScript'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Update script file content
      tags:
      - Script
  /scripts/detail:
    get:
      consumes:
      - application/json
      description: Get detail of a script file
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: 'Type (options: ''global'', ''local'')'
        in: query
        name: type
        required: true
        type: string
      - description: Category (directory under 'global' or 'local')
        in: query
        name: category
        type: string
      - description: Script file name
        in: query
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.GitFile'
            type: array
      summary: Get script detail
      tags:
      - Script
  /scripts/diff:
    get:
      consumes:
      - application/json
      description: Get script diff compare to specfied version
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: 'Type (options: ''global'', ''local'')'
        in: query
        name: type
        required: true
        type: string
      - description: Category (directory under 'global' or 'local')
        in: query
        name: category
        type: string
      - description: Script file name
        in: query
        name: name
        required: true
        type: string
      - description: Commit hash
        in: query
        name: commit
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.GitFile'
            type: array
      summary: Get script diff
      tags:
      - Script
  /scripts/info:
    get:
      consumes:
      - application/json
      description: Get plugin information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/plugin.PluginInfo'
      summary: Get plugin info
      tags:
      - File
  /scripts/log:
    get:
      consumes:
      - application/json
      description: Get histories of a script file
      parameters:
      - description: Host ID
        in: query
        name: host_id
        required: true
        type: integer
      - description: 'Type (options: ''global'', ''local'')'
        in: query
        name: type
        required: true
        type: string
      - description: Category (directory under 'global' or 'local')
        in: query
        name: category
        type: string
      - description: Script file name
        in: query
        name: name
        required: true
        type: string
      - description: Page
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.PageResult'
            type: array
      summary: Get script histories
      tags:
      - Script
  /scripts/menu:
    get:
      consumes:
      - application/json
      description: Get plugin menu items
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/plugin.MenuItem'
            type: array
      summary: Get plugin menu
      tags:
      - File
  /scripts/restore:
    put:
      consumes:
      - application/json
      description: Restore script file to specified version
      parameters:
      - description: Script file restore details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.RestoreScript'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Restore script file
      tags:
      - Script
  /ssh/config/{host_id}:
    get:
      consumes:
      - application/json
      description: Get SSH configurations on host
      parameters:
      - description: Host ID
        in: path
        name: host_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SSHInfo'
      summary: Get SSH configurations on host
      tags:
      - SSH
    put:
      consumes:
      - application/json
      description: Update SSH configurations on host
      parameters:
      - description: Host ID
        in: path
        name: host_id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SSHUpdate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Update SSH configurations on host
      tags:
      - SSH
  /ssh/config/content/{host_id}:
    get:
      consumes:
      - application/json
      description: Get SSH config file content on host
      parameters:
      - description: Host ID
        in: path
        name: host_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SSHConfigContent'
      summary: Get SSH config file content on host
      tags:
      - SSH
    put:
      consumes:
      - application/json
      description: Update SSH configuration file content on host
      parameters:
      - description: Host ID
        in: path
        name: host_id
        required: true
        type: integer
      - description: Content
        in: body
        name: content
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
      summary: Update SSH configuration file content on host
      tags:
      - SSH
  /ssh/info:
    get:
      consumes:
      - application/json
      description: Get plugin information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/plugin.PluginInfo'
      summary: Get plugin info
      tags:
      - SSH
  /ssh/keys/{host_id}:
    get:
      consumes:
      - application/json
      description: Get SSH secrets on host
      parameters:
      - description: Host ID
        in: path
        name: host_id
        required: true
        type: integer
      - description: Keyword
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Get SSH secrets on host
      tags:
      - SSH
    post:
      consumes:
      - application/json
      description: Generate host SSH secret
      parameters:
      - description: Host ID
        in: path
        name: host_id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.GenerateKey'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Generate host SSH secret
      tags:
      - SSH
  /ssh/logs/{host_id}:
    get:
      consumes:
      - application/json
      description: Get SSH logs on host
      parameters:
      - description: Host ID
        in: path
        name: host_id
        required: true
        type: integer
      - description: Page number
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      - description: Info
        in: query
        name: info
        type: string
      - description: Status can be 'Success' or 'Failed' or 'All'
        in: query
        name: status
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SSHLog'
      summary: Get SSH logs on host
      tags:
      - SSH
  /ssh/menu:
    get:
      consumes:
      - application/json
      description: Get plugin menu items
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/plugin.MenuItem'
            type: array
      summary: Get plugin menu
      tags:
      - SSH
  /ssh/operate/{host_id}:
    post:
      consumes:
      - application/json
      description: modify SSH service status on host
      parameters:
      - description: Host ID
        in: path
        name: host_id
        required: true
        type: integer
      - description: Operation, can be 'enable' or 'disable'
        in: body
        name: operation
        required: true
        schema:
          type: string
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      summary: Operate SSH
      tags:
      - SSH
  /sysctl/boot:
    post:
      description: 运行systemctl的服务启动相关命令
      responses:
        "200":
          description: OK
      summary: run systemctl start/stop/restart service commands
      tags:
      - SystemCtl
  /sysctl/info:
    get:
      consumes:
      - application/json
      description: 插件信息
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/plugin.PluginInfo'
            type: array
      summary: Plugin info
      tags:
      - Sysctl
  /sysctl/menu:
    get:
      consumes:
      - application/json
      description: 插件菜单
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/plugin.PluginInfo'
            type: array
      summary: Plugin menu
      tags:
      - Sysctl
  /sysinfo/config:
    get:
      consumes:
      - application/json
      description: Get system config
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SystemConfig'
      summary: Get system config
      tags:
      - Sysinfo
  /sysinfo/hardware:
    get:
      consumes:
      - application/json
      description: Get hardware info
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.HardwareInfo'
      summary: Get hardware info
      tags:
      - Sysinfo
  /sysinfo/info:
    get:
      consumes:
      - application/json
      description: Get plugin information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/plugin.PluginInfo'
      summary: Get plugin info
      tags:
      - Sysinfo
  /sysinfo/menu:
    get:
      consumes:
      - application/json
      description: Get plugin menu items
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/plugin.MenuItem'
            type: array
      summary: Get plugin menu
      tags:
      - Sysinfo
  /sysinfo/network:
    get:
      consumes:
      - application/json
      description: Get network info
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.NetworkInfo'
      summary: Get network info
      tags:
      - Sysinfo
  /sysinfo/overview:
    get:
      consumes:
      - application/json
      description: Get system overview info
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Overview'
      summary: Get system overview info
      tags:
      - Sysinfo
  /sysinfo/system:
    get:
      consumes:
      - application/json
      description: Get system info
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SystemInfo'
      summary: Get system info
      tags:
      - Sysinfo
  /users:
    get:
      consumes:
      - application/json
      description: 获取用户列表
      parameters:
      - description: Page number
        in: query
        name: page
        required: true
        type: integer
      - description: Page size
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.PageResult'
      summary: get user list
      tags:
      - User
    post:
      consumes:
      - application/json
      description: 新增用户
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreateUser'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.UserInfo'
      summary: create user
      tags:
      - User
  /users/{id}:
    delete:
      consumes:
      - application/json
      description: 删除用户
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: delete user
      tags:
      - User
    put:
      consumes:
      - application/json
      description: 更新用户
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateUser'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: update user
      tags:
      - User
  /users/{id}/password:
    put:
      consumes:
      - application/json
      description: 更新密码
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ChangePassword'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: update password
      tags:
      - User
  /users/{id}/valid:
    put:
      consumes:
      - application/json
      description: 禁用/启用用户
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ValidUser'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: valid user
      tags:
      - User
  /ws/terminals:
    get:
      consumes:
      - application/json
      description: 终端会话的websocket接口
      produces:
      - application/json
      responses:
        "101":
          description: Switching Protocols to websocket
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/model.Response'
      summary: 终端会话接口
      tags:
      - WebSocket
swagger: "2.0"
